[agent]
  ## Default data collection interval for all inputs
  interval = "10s"
  ## Log at debug level.
  debug = true
  ## Log only error level messages.
  quiet = false

[[inputs.mqtt_consumer]]
  servers = [ "tcp://mqtt:1883" ]
  topics = [ "spB1.0/testing/#" ]
  persistent_session = true
  client_id = "telegraf"
  data_format = "json_v2"
  [[inputs.mqtt_consumer.topic_parsing]]
    topic = "spB1.0/testing/NDATA/+"
    tags = "_/_/_/device"
  [[inputs.mqtt_consumer.json_v2]]
    [[inputs.mqtt_consumer.json_v2.object]]
        path = "@this" # A string with valid GJSON path syntax, can include array's and object's

[[outputs.influxdb_v2]]
  urls = ["http://influxdb:8086"]
  token = "12345678"
  organization = "brewhub"
  bucket = "dockerism"

[[outputs.file]]
  files = ["stdout"]


  THIS WORKED

  [[inputs.mqtt_consumer]]
  servers = [ "tcp://mqtt:1883" ]
  topics = [ "spB1.0/testing/#" ]
  persistent_session = true
  qos = 1
  client_id = "telegraf"
  data_format = "value"
  data_type = "string"
  [[inputs.mqtt_consumer.topic_parsing]]
    topic = "spB1.0/testing/NDATA/+"
    tags = "_/_/_/device"

[[outputs.influxdb_v2]]



        [[inputs.mqtt_consumer.json_v2.object.field]]
            path = "Temperature" # # A string with valid GJSON path syntax, can include array's and object's
            type = "float" # A string specifying the type (int,uint,float,string,bool)        
